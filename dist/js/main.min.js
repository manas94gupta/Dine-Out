function createMarker(e){var t="M403.8,178.4c0.1,0.2,0.1,0.5,0.2,0.7 M407.3,194.5c4.9,29.6,0.2,59.4-13,89.1   c-19.4,43.8-47.5,81.7-81.3,115.3c-15.5,15.4-32.3,29.5-48.6,44c-1.8,1.6-4.2,2.6-6.3,3.9c-1.5,0-3,0-4.5,0   c-6.1-4.6-12.5-8.9-18.3-13.8c-25.1-21.4-48.5-44.4-69-70.1 M144.6,332.9c-14.6-21.9-27.2-45-34.9-70.4   c-11.3-37.2-8.8-73.8,7.9-109.1c16.6-35.1,43-60.3,78.5-75.9c14.8-6.5,30.4-10.5,46.7-11.7c1-0.1,1.9-0.4,2.8-0.6   c6.7,0,13.4,0,20.1,0c7.8,1.2,15.8,1.9,23.5,3.8c47.3,11.4,82.5,38.7,104.1,82.4c1.9,3.9,3.6,7.7,5.2,11.6 M210.4,159.6   c-17.8,13.6-29.4,35.2-29.9,59.6c-0.9,41.1,33,75.5,75,76.2c40.9,0.6,75.1-32.9,75.9-74.5c0.8-41.6-32.9-76-75-76.6   c-9-0.1-17.6,1.4-25.6,4.2";removeMarkers(),markers=[],infowindow=new google.maps.InfoWindow,e.forEach(function(e){var i=new google.maps.Marker({position:{lat:parseFloat(e.restaurant.location.latitude,10),lng:parseFloat(e.restaurant.location.longitude,10)},title:e.restaurant.name,animation:google.maps.Animation.DROP,icon:{path:t,strokeColor:"#"+e.restaurant.user_rating.rating_color,strokeOpacity:1,strokeWeight:2,fillColor:"#18243b",fillOpacity:1,scale:.1,anchor:new google.maps.Point(250,450)},display:ko.observable(!0),info:{url:e.restaurant.url,avgCost:e.restaurant.average_cost_for_two,cuisines:e.restaurant.cuisines,image:e.restaurant.featured_image,address:e.restaurant.location.address,rating:e.restaurant.user_rating.aggregate_rating,ratingText:e.restaurant.user_rating.rating_text,ratingColor:e.restaurant.user_rating.rating_color}});markers.push(i),i.addListener("click",function(){toggleBounce(i),populateInfoWindow(this)})}),viewModel.dineList(markers),showMarkers()}function showMarkers(){for(var e=new google.maps.LatLngBounds,t=0;t<markers.length;t++)markers[t].display()?(markers[t].setMap(map),0==markers[t].position.lat()&&0==markers[t].position.lng()||e.extend(markers[t].position)):markers[t].setMap(null);map.fitBounds(e),0==markers.length&&alert("No results found in 2 kilometer radius")}function removeMarkers(){for(var e=0;e<markers.length;e++)markers[e].setMap(null)}function getFilterList(e){for(var t=0;t<markers.length;t++)markers[t].title.toUpperCase().indexOf(e.toUpperCase())==-1?markers[t].display(!1):markers[t].display(!0)}function populateInfoWindow(e){if(infowindowStyle(),infowindow.marker!=e){infowindow.marker=e;var t='<div class="infowindow"><div class="infowindowTitle"><a target="_blank" href="'+e.info.url+'">'+e.title+'</a><div class="infowindowRatings" style="background-color: #'+e.info.ratingColor+'"><h3 class="ratings">'+e.info.rating+'/5</h3><span class="ratingText">'+e.info.ratingText+'</span></div></div><div class="content"><div class="infowindowAddress">Address: <span class="info">'+e.info.address+'</span></div><br><div class="infowindowCuisines">Cuisines: <span class="info">'+e.info.cuisines+'</span></div><br><div class="infowindowAvgCost">Average Cost For Two: <span class="info"> Rs. '+e.info.avgCost+'</span></div><div><div class="infowindowImage"><img src="'+e.info.image+'" alt="Image not available" /></div></div>';infowindow.setContent(t),infowindow.open(map,e),infowindow.addListener("closeclick",function(){infowindow.marker=null})}}function toggleBounce(e){e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null)},1500)}function setLocation(e){var t=new google.maps.Geocoder;""==e?window.alert("You must enter an area, or address."):t.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK?(map.setCenter(e[0].geometry.location),map.setZoom(16),searchZomato(e[0].geometry.location)):window.alert("We could not find that location - try entering a more specific place.")})}var categoriesData=[{id:0,name:"All"},{id:1,name:"Delivery"},{id:2,name:"Dine-out"},{id:3,name:"Nightlife"},{id:4,name:"Catching-up"},{id:5,name:"Takeaway"},{id:6,name:"Cafes"},{id:7,name:"Daily Menus"},{id:8,name:"Breakfast"},{id:9,name:"Lunch"},{id:10,name:"Dinner"},{id:11,name:"Pubs & Bars"},{id:12,name:"Premium Delivery"},{id:13,name:"Pocket Friendly Delivery"},{id:14,name:"Clubs & Lounges"}];mapDarkStyle=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"simplified"},{saturation:"-100"},{lightness:"30"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"},{gamma:"0.00"},{lightness:"74"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#34334f"},{lightness:"-37"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:"3"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#2d2c45"},{lightness:"0"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#7d7c9b"},{lightness:"43"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#2d2c45"},{lightness:"1"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#7d7c9b"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#2d2c45"},{lightness:"-1"},{gamma:"1"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"},{hue:"#ff0000"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#7d7c9b"},{lightness:"-31"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2d2c45"},{lightness:"-36"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2d2c45"},{lightness:"0"},{gamma:"1"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]}];var map,markers=[],infowindow,ViewModel=function(){var e=this;e.toggleSidebar=ko.observable(!1),e.errorText=ko.observable(""),e.dineList=ko.observableArray([]),e.searchInput=ko.observable(""),e.locationSearchInput=ko.observable(""),e.categories=ko.observableArray(categoriesData),e.selectedCategory=ko.observable(""),e.openSidebar=function(){e.toggleSidebar(!0)},e.closeSidebar=function(){e.toggleSidebar(!1)},e.searchOnEnter=function(t,i){var a=i.which?i.which:i.keyCode;return 13!=a||(e.locationSearch(),!1)},e.locationSearch=function(){setLocation(e.locationSearchInput()),e.closeSidebar()},e.filterList=function(){getFilterList(e.searchInput()),showMarkers()},e.openInfoWindow=function(t){toggleBounce(t),e.closeSidebar(),populateInfoWindow(t)}},viewModel=new ViewModel;ko.options.useOnlyNativeEvents=!0,ko.applyBindings(viewModel);